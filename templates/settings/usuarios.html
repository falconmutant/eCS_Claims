{% extends 'base.html' %}
{% load staticfiles %}
{% block title %}
  eCS Claims
{% endblock title %}

{% block css %}
  <link type="text/css" href="{% static "css/pnotify.css" %}" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/bootstrap.daterangepicker/2/daterangepicker.css" />
  <style type="text/css">
    #footer {
        padding: 4em 0 6em 0;
        text-align: center;
    }
    #footer .copyright {
        color: #999;
        font-size: 0.9em;
        line-height: 1em;
        margin: 2em 0 0 0;
        padding: 0;
        text-align: center;
    }
    #footer .copyright li {
        display: inline-block;
        list-style: none;
        margin-left: 1em;
        padding-left: 1em;
    }
    .a-details,.a-details:hover{
      font-size: 15px;
      margin-left: 85%;
      border: none !important;
    }
  </style>
{% endblock css %}

{% block header %}
  <div id="jCrumbs" class="breadCrumb module">
    <ul>
      <li>
        <a href="/logged_in/"><i class="glyphicon glyphicon-home"></i></a>
      </li>
      <li>
        <a href="">Configuración</a>
      </li>
      <li>
        <a href="">Usuarios</a>
      </li>
    </ul>
  </div>
  <div class="row">
    <div class="12u">
      <section class="box">
        <center><h3>Usuarios Claims</h3></center>
        <hr>
        <a class="a-details" href="{{ settings.APP_URL }}/registro/">Nuevo Usuario <i class="fa fa-plus"></i></a>
        <hr>
        <table cellpadding="0" cellspacing="0" border="0" class="table table-striped table-bordered datatables" id="tabletools">
          <thead>
            <tr>
              <th>Nombre</th>
              <th>Apellido</th>
              <th>Correo</th>
              <th>Usario</th>
              <th>Modificar</th>
            </tr>
          </thead>
          <tbody id="tb">
            {% for users in username %}
              <tr>
                <td>{{users.first_name}}</td>
                <td>{{users.last_name}}</td>
                <td>{{users.email}}</td>
                <td>{{users.username}}</td>
                <td><a href="{{ settings.APP_URL }}/usuario/{{users.id}}/"><i class="fa fa-pencil"></i></a></td>
              </tr>
            {% endfor %}
          </tbody>
        </table>
      </section>
    </div>
  </div>
{% endblock header %}
{% block javascript %}
  <script type="text/javascript" src="{% static "js/pnotify.min.js" %}"></script>
  <script type="text/javascript" src="//cdn.jsdelivr.net/momentjs/latest/moment.min.js"></script>
  <script type="text/javascript" src="//cdn.jsdelivr.net/bootstrap.daterangepicker/2/daterangepicker.js"></script>
  <script type="text/javascript">
    $(document).ready(function(){
      console.log('{{bug}}');
      $('input[name="daterange"]').daterangepicker(
        {
            locale: {
              format: 'YYYY-MM-DD',
              closeText: 'Cerrar',
              prevText: '<Ant',
              nextText: 'Sig>',
              currentText: 'Hoy',
              monthNames: ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'],
              monthNamesShort: ['Ene','Feb','Mar','Abr', 'May','Jun','Jul','Ago','Sep', 'Oct','Nov','Dic'],
              dayNames: ['Domingo', 'Lunes', 'Martes', 'Miércoles', 'Jueves', 'Viernes', 'Sábado'],
              dayNamesShort: ['Dom','Lun','Mar','Mié','Juv','Vie','Sáb'],
              dayNamesMin: ['Do','Lu','Ma','Mi','Ju','Vi','Sá'],
              weekHeader: 'Sm',
              firstDay: 1,
              isRTL: false,
              showMonthAfterYear: false,
              yearSuffix: ''
            },
            startDate: '{{start}}',
            endDate: '{{end}}'
        });
      $('.applyBtn').css('display','none');
      $('.cancelBtn').css('display','none');
    });
  </script>
  {% if success == 1 %}
    <script>
      $(document).ready(function(){
        new PNotify({
                title: 'Exito',
                text: 'El reclamo seleccionado se actualizo con exito!',
                type: 'success',
                styling: 'fontawesome'
              });
      });
    </script>
  {% endif %}
  {% if error == 1 %}
    <script>
      $(document).ready(function(){
        new PNotify({
                title: 'Error',
                text: 'No se envio notificación a los usuarios!',
                type: 'error',
                styling: 'fontawesome'
              });
      });
    </script>
  {% endif %}
{% endblock javascript %}